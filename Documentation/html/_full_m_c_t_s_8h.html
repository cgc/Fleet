<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fleet: src/Inference/FullMCTS.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_sm.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fleet
   &#160;<span id="projectnumber">0.0.9</span>
   </div>
   <div id="projectbrief">Inference in the LOT</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b1574807514940316c988b1142d2b137.html">Inference</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">FullMCTS.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This monte care tree search always plays out a full tree. It is optimized to keep the tree as small as possible. To do this, it doesn't even store the value (HYP) in the tree, it just constructs it as a search step goes down the tree. It also doesn't store parent pointers, it just passes them down the tree. We use <a class="el" href="class_spin_lock.html">SpinLock</a> here because std::mutex is much bigger. Finally, explore, data, and callback are all static variables, which means that you will need to subclass this if you want to let those vary across nodes (or parallel runs). This lets us cram everything into 56 bytes.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &quot;<a class="el" href="_streaming_statistics_8h_source.html">StreamingStatistics.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_control_8h_source.html">Control.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for FullMCTS.h:</div>
<div class="dyncontent">
<div class="center"><img src="_full_m_c_t_s_8h__incl.png" border="0" usemap="#src_2_inference_2_full_m_c_t_s_8h" alt=""/></div>
<map name="src_2_inference_2_full_m_c_t_s_8h" id="src_2_inference_2_full_m_c_t_s_8h">
<area shape="rect" id="node9" href="_streaming_statistics_8h.html" title="A class to store a bunch of statistics about incoming data points, including min, max..." alt="" coords="581,80,728,107"/>
<area shape="rect" id="node26" href="_control_8h.html" title="This bundles together information for running MCMC or MCTS, including number of steps, amount of time, etc. NOTE: In general this should NOT be passed by reference because we want start_time to be the time we started the function it is passed to (start time is the time of construction, here) " alt="" coords="752,80,827,107"/>
<area shape="rect" id="node10" href="_median_f_a_m_e_8h.html" title="A streaming median class implementing the FAME algorithm Here, we initialize both the step size and M..." alt="" coords="352,155,464,181"/>
<area shape="rect" id="node11" href="_reservoir_sample_8h.html" title="A reservoir sampling algorithm. NOTE: This was simplified from an old version that permitted unequal ..." alt="" coords="588,155,721,181"/>
<area shape="rect" id="node12" href="_errors_8h.html" title="Errors.h" alt="" coords="1041,229,1109,256"/>
<area shape="rect" id="node16" href="_top_8h.html" title="Check if a type has a posterior function or not. " alt="" coords="618,229,673,256"/>
<area shape="rect" id="node28" href="_timing_8h.html" title="Timing.h" alt="" coords="1039,155,1111,181"/>
<area shape="rect" id="node30" href="_i_o_8h.html" title="IO.h" alt="" coords="489,155,535,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="_full_m_c_t_s_8h__dep__incl.png" border="0" usemap="#src_2_inference_2_full_m_c_t_s_8hdep" alt=""/></div>
<map name="src_2_inference_2_full_m_c_t_s_8hdep" id="src_2_inference_2_full_m_c_t_s_8hdep">
<area shape="rect" id="node2" href="_formal_language_theory-_simple_2_main_8cpp.html" title="Models/FormalLanguageTheory\l&#45;Simple/Main.cpp" alt="" coords="5,80,209,121"/>
</map>
</div>
</div>
<p><a href="_full_m_c_t_s_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spin_lock.html">SpinLock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_full_m_c_t_s_node.html">FullMCTSNode&lt; HYP, callback_t &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a857233142bc725dbd1873d8e31add283"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_full_m_c_t_s_8h.html#a857233142bc725dbd1873d8e31add283">DEBUG_MCTS</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a857233142bc725dbd1873d8e31add283"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This monte care tree search always plays out a full tree. It is optimized to keep the tree as small as possible. To do this, it doesn't even store the value (HYP) in the tree, it just constructs it as a search step goes down the tree. It also doesn't store parent pointers, it just passes them down the tree. We use <a class="el" href="class_spin_lock.html">SpinLock</a> here because std::mutex is much bigger. Finally, explore, data, and callback are all static variables, which means that you will need to subclass this if you want to let those vary across nodes (or parallel runs). This lets us cram everything into 56 bytes. </p>
<p>NOTE we could optimize a few more things &ndash; for instance, storing the open bool either in nvisits, or which_expansion</p>
<p>TODO: We also store terminals currently in the tree, but there's no need for that &ndash; we should eliminate that. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a857233142bc725dbd1873d8e31add283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a857233142bc725dbd1873d8e31add283">&#9670;&nbsp;</a></span>DEBUG_MCTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_MCTS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
