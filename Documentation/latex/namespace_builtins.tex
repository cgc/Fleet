\hypertarget{namespace_builtins}{}\doxysection{Builtins Namespace Reference}
\label{namespace_builtins}\index{Builtins@{Builtins}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}} $>$ \mbox{\hyperlink{namespace_builtins_a9cf51cec1bb7dc7917558410d1aa4b39}{C\+L\+\_\+I}} (Op\+::\+C\+L\+\_\+I, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}} $>$ \mbox{\hyperlink{namespace_builtins_ae8b632fec16fea274d112bd85592d9f8}{C\+L\+\_\+S}} (Op\+::\+C\+L\+\_\+S, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}} $>$ \mbox{\hyperlink{namespace_builtins_a59cea210a169776fcb5e88aeff847e1e}{C\+L\+\_\+K}} (Op\+::\+C\+L\+\_\+K, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}, \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}, \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}} $>$ \mbox{\hyperlink{namespace_builtins_a40f3d7c1534a8176ef4978064059e0a0}{C\+L\+\_\+\+Apply}} (Op\+::\+C\+L\+\_\+\+Apply, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ typename Grammar\+\_\+t\+::input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_ad0f8dca506b7edd9031095025dd2e258}{X}} (Op\+::X, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(!vms-\/$>$xstack.\+empty());vms-\/$>$template push$<$ typename Grammar\+\_\+t\+::input\+\_\+t $>$(vms-\/$>$xstack.\+top());\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ bool, bool, bool $>$ \mbox{\hyperlink{namespace_builtins_a52744e50ca0efe422f650bb2e0984034}{And}} (Op\+::\+And, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(false);\} else \{ \} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ bool, bool, bool $>$ \mbox{\hyperlink{namespace_builtins_a8032519b3fc12f628351116f0eb22a79}{Or}} (Op\+::\+Or, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(true);\} else \{ \} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ bool, bool $>$ \mbox{\hyperlink{namespace_builtins_ab48e0d43bcf71fcc87e923b1d1adea5d}{Not}} (Op\+::\+Not, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$push(not vms-\/$>$template getpop$<$ bool $>$());\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename T $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ T, bool, T, T $>$ \mbox{\hyperlink{namespace_builtins_a41d4ede335cf73863bdf781f4ce1bf3f}{If}} (Op\+::\+If, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) vms-\/$>$program.\+popn(arg);else \{\};\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}} \mbox{\hyperlink{namespace_builtins_a973e141df2c749b85956bc9ddca970fc}{Jmp}} (Op\+::\+Jmp, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$program.\+popn(arg);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}} \mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{PopX}} (Op\+::\+PopX, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$xstack.\+pop();\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ bool $>$ \mbox{\hyperlink{namespace_builtins_a6888aa01e830dbc435af2316c2c74f0e}{Flip}} (Op\+::\+Flip, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, -\/\mbox{\hyperlink{_numerics_8h_a1cab50ac2cae826eca1b03bb33eae1f1}{L\+O\+G2}});bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, -\/\mbox{\hyperlink{_numerics_8h_a1cab50ac2cae826eca1b03bb33eae1f1}{L\+O\+G2}});if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ bool, double $>$ \mbox{\hyperlink{namespace_builtins_a73debdddae4e83ec3de69a730943ec73}{FlipP}} (Op\+::\+FlipP, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);double p=vms-\/$>$template getpop$<$ double $>$();if(std\+::isnan(p)) \{ p=0.\+0;\} assert(p$<$=1.\+0 and p $>$=0.\+0);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, log(p));bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, log(1.\+0-\/p));if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ bool, double $>$ \mbox{\hyperlink{namespace_builtins_a467be9c940565b464234b395389aacb7}{Safe\+FlipP}} (Op\+::\+Safe\+FlipP, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);double p=vms-\/$>$template getpop$<$ double $>$();if(std\+::isnan(p)) p=0.\+0;else if(p $>$ 1.\+0) p=1.\+0;else if(p$<$ 0.\+0) p=0.\+0;vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, log(p));bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, log(1.\+0-\/p));if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}} \mbox{\hyperlink{namespace_builtins_a41afa777e99c28cbf1ac3501464ba8e9}{Mem}} (Op\+::\+Mem, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ auto memindex=vms-\/$>$template memstack$<$ key\+\_\+t $>$().top();vms-\/$>$template memstack$<$ key\+\_\+t $>$().pop();if(vms-\/$>$template mem$<$ key\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex)==0) \{ vms-\/$>$template mem$<$ key\+\_\+t $>$()\mbox{[}memindex\mbox{]}=vms-\/$>$template gettop$<$ output\+\_\+t $>$();\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}} \mbox{\hyperlink{namespace_builtins_a49c7eea2f0420591809f9d4470baccfb}{No\+Op}} (Op\+::\+No\+Op, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a51eb98277802b2cb3cb6e246b2dfd2cb}{Recurse}} (Op\+::\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto mynewx=vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$xstack.\+push(std\+::move(mynewx));vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a94cef1f6b9555a28914c897e5bc50654}{Safe\+Recurse}} (Op\+::\+Safe\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a51eb98277802b2cb3cb6e246b2dfd2cb}{Recurse}}$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a4755b55bacb9357deefb65240d7bbc8b}{Mem\+Recurse}} (Op\+::\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);using mykey\+\_\+t=short;if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto x=vms-\/$>$template getpop$<$ input\+\_\+t $>$();auto memindex=std\+::make\+\_\+pair(arg, x);if(vms-\/$>$template mem$<$ mykey\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex))\{ vms-\/$>$push(vms-\/$>$template mem$<$ mykey\+\_\+t $>$()\mbox{[}memindex\mbox{]});\} else \{ vms-\/$>$xstack.\+push(x);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$template memstack$<$ mykey\+\_\+t $>$().push(memindex);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a41afa777e99c28cbf1ac3501464ba8e9}{Builtins\+::\+Mem}}$<$ Grammar\+\_\+t, mykey\+\_\+t, output\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_ae8ce69cb887ec1cbfc50cf9e8c721548}{Safe\+Mem\+Recurse}} (Op\+::\+Safe\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a4755b55bacb9357deefb65240d7bbc8b}{Mem\+Recurse}}$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a636952e2b893e683faedbb90308828ff}{Lexicon\+Recurse}} (Op\+::\+Lexicon\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto key=vms-\/$>$template getpop$<$ key\+\_\+t $>$();auto mynewx=vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$xstack.\+push(std\+::move(mynewx));vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program, key);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a2f51aebf13fc33d9e69468eb1e6593d1}{Lexicon\+Safe\+Recurse}} (Op\+::\+Lexicon\+Safe\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ key\+\_\+t $>$();vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a636952e2b893e683faedbb90308828ff}{Lexicon\+Recurse}}$<$ Grammar\+\_\+t, key\+\_\+t $>$.call(vms, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_a17e28043215d4d213d2e96a4d7416a9c}{Lexicon\+Mem\+Recurse}} (Op\+::\+Lexicon\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto key=vms-\/$>$template getpop$<$ key\+\_\+t $>$();auto x=vms-\/$>$template getpop$<$ input\+\_\+t $>$();auto memindex=std\+::make\+\_\+pair(key, x);if(vms-\/$>$template mem$<$ key\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex))\{ vms-\/$>$push(vms-\/$>$template mem$<$ key\+\_\+t $>$()\mbox{[}memindex\mbox{]});\} else \{ vms-\/$>$xstack.\+push(x);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$template memstack$<$ key\+\_\+t $>$().push(memindex);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a41afa777e99c28cbf1ac3501464ba8e9}{Builtins\+::\+Mem}}$<$ Grammar\+\_\+t, key\+\_\+t, output\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program, key);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\mbox{\hyperlink{struct_primitive}{Primitive}}$<$ output\+\_\+t, key\+\_\+t, input\+\_\+t $>$ \mbox{\hyperlink{namespace_builtins_ab9990f6f6dbba65ec6517b50b13986d6}{Lexicon\+Safe\+Mem\+Recurse}} (Op\+::\+Lexicon\+Safe\+Mem\+Recurse, \mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ key\+\_\+t $>$();vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a17e28043215d4d213d2e96a4d7416a9c}{Lexicon\+Mem\+Recurse}}$<$ Grammar\+\_\+t, key\+\_\+t $>$.call(vms, arg);\} \})
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespace_builtins_a52744e50ca0efe422f650bb2e0984034}\label{namespace_builtins_a52744e50ca0efe422f650bb2e0984034}} 
\index{Builtins@{Builtins}!And@{And}}
\index{And@{And}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{And()}{And()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$bool,bool,bool$>$ Builtins\+::\+And (\begin{DoxyParamCaption}\item[{Op\+::\+And}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(false);\} else \{ \} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a40f3d7c1534a8176ef4978064059e0a0}\label{namespace_builtins_a40f3d7c1534a8176ef4978064059e0a0}} 
\index{Builtins@{Builtins}!CL\_Apply@{CL\_Apply}}
\index{CL\_Apply@{CL\_Apply}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{CL\_Apply()}{CL\_Apply()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$\mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}, \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}, \mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}$>$ Builtins\+::\+C\+L\+\_\+\+Apply (\begin{DoxyParamCaption}\item[{Op\+::\+C\+L\+\_\+\+Apply}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a9cf51cec1bb7dc7917558410d1aa4b39}\label{namespace_builtins_a9cf51cec1bb7dc7917558410d1aa4b39}} 
\index{Builtins@{Builtins}!CL\_I@{CL\_I}}
\index{CL\_I@{CL\_I}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{CL\_I()}{CL\_I()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$\mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}$>$ Builtins\+::\+C\+L\+\_\+I (\begin{DoxyParamCaption}\item[{Op\+::\+C\+L\+\_\+I}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a59cea210a169776fcb5e88aeff847e1e}\label{namespace_builtins_a59cea210a169776fcb5e88aeff847e1e}} 
\index{Builtins@{Builtins}!CL\_K@{CL\_K}}
\index{CL\_K@{CL\_K}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{CL\_K()}{CL\_K()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$\mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}$>$ Builtins\+::\+C\+L\+\_\+K (\begin{DoxyParamCaption}\item[{Op\+::\+C\+L\+\_\+K}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_ae8b632fec16fea274d112bd85592d9f8}\label{namespace_builtins_ae8b632fec16fea274d112bd85592d9f8}} 
\index{Builtins@{Builtins}!CL\_S@{CL\_S}}
\index{CL\_S@{CL\_S}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{CL\_S()}{CL\_S()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$\mbox{\hyperlink{struct_combinators_1_1_c_l}{Combinators\+::\+CL}}$>$ Builtins\+::\+C\+L\+\_\+S (\begin{DoxyParamCaption}\item[{Op\+::\+C\+L\+\_\+S}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{assert(false);\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a6888aa01e830dbc435af2316c2c74f0e}\label{namespace_builtins_a6888aa01e830dbc435af2316c2c74f0e}} 
\index{Builtins@{Builtins}!Flip@{Flip}}
\index{Flip@{Flip}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{Flip()}{Flip()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$bool$>$ Builtins\+::\+Flip (\begin{DoxyParamCaption}\item[{Op\+::\+Flip}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, -\/\mbox{\hyperlink{_numerics_8h_a1cab50ac2cae826eca1b03bb33eae1f1}{L\+O\+G2}});bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, -\/\mbox{\hyperlink{_numerics_8h_a1cab50ac2cae826eca1b03bb33eae1f1}{L\+O\+G2}});if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a73debdddae4e83ec3de69a730943ec73}\label{namespace_builtins_a73debdddae4e83ec3de69a730943ec73}} 
\index{Builtins@{Builtins}!FlipP@{FlipP}}
\index{FlipP@{FlipP}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{FlipP()}{FlipP()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$bool,double$>$ Builtins\+::\+FlipP (\begin{DoxyParamCaption}\item[{Op\+::\+FlipP}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);double p=vms-\/$>$template getpop$<$ double $>$();if(std\+::isnan(p)) \{ p=0.\+0;\} assert(p$<$=1.\+0 and p $>$=0.\+0);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, log(p));bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, log(1.\+0-\/p));if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a41d4ede335cf73863bdf781f4ce1bf3f}\label{namespace_builtins_a41d4ede335cf73863bdf781f4ce1bf3f}} 
\index{Builtins@{Builtins}!If@{If}}
\index{If@{If}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{If()}{If()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename T $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$T,bool,T,T$>$ Builtins\+::\+If (\begin{DoxyParamCaption}\item[{Op\+::\+If}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) vms-\/$>$program.\+popn(arg);else \{\};\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a973e141df2c749b85956bc9ddca970fc}\label{namespace_builtins_a973e141df2c749b85956bc9ddca970fc}} 
\index{Builtins@{Builtins}!Jmp@{Jmp}}
\index{Jmp@{Jmp}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{Jmp()}{Jmp()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}} Builtins\+::\+Jmp (\begin{DoxyParamCaption}\item[{Op\+::\+Jmp}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$program.\+popn(arg);\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a17e28043215d4d213d2e96a4d7416a9c}\label{namespace_builtins_a17e28043215d4d213d2e96a4d7416a9c}} 
\index{Builtins@{Builtins}!LexiconMemRecurse@{LexiconMemRecurse}}
\index{LexiconMemRecurse@{LexiconMemRecurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{LexiconMemRecurse()}{LexiconMemRecurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t,key\+\_\+t,input\+\_\+t$>$ Builtins\+::\+Lexicon\+Mem\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Lexicon\+Mem\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto key=vms-\/$>$template getpop$<$ key\+\_\+t $>$();auto x=vms-\/$>$template getpop$<$ input\+\_\+t $>$();auto memindex=std\+::make\+\_\+pair(key, x);if(vms-\/$>$template mem$<$ key\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex))\{ vms-\/$>$push(vms-\/$>$template mem$<$ key\+\_\+t $>$()\mbox{[}memindex\mbox{]});\} else \{ vms-\/$>$xstack.\+push(x);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$template memstack$<$ key\+\_\+t $>$().push(memindex);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a41afa777e99c28cbf1ac3501464ba8e9}{Builtins\+::\+Mem}}$<$ Grammar\+\_\+t, key\+\_\+t, output\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program, key);\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a636952e2b893e683faedbb90308828ff}\label{namespace_builtins_a636952e2b893e683faedbb90308828ff}} 
\index{Builtins@{Builtins}!LexiconRecurse@{LexiconRecurse}}
\index{LexiconRecurse@{LexiconRecurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{LexiconRecurse()}{LexiconRecurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t,key\+\_\+t,input\+\_\+t$>$ Builtins\+::\+Lexicon\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Lexicon\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto key=vms-\/$>$template getpop$<$ key\+\_\+t $>$();auto mynewx=vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$xstack.\+push(std\+::move(mynewx));vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program, key);\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_ab9990f6f6dbba65ec6517b50b13986d6}\label{namespace_builtins_ab9990f6f6dbba65ec6517b50b13986d6}} 
\index{Builtins@{Builtins}!LexiconSafeMemRecurse@{LexiconSafeMemRecurse}}
\index{LexiconSafeMemRecurse@{LexiconSafeMemRecurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{LexiconSafeMemRecurse()}{LexiconSafeMemRecurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t,key\+\_\+t,input\+\_\+t$>$ Builtins\+::\+Lexicon\+Safe\+Mem\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Lexicon\+Safe\+Mem\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ key\+\_\+t $>$();vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a17e28043215d4d213d2e96a4d7416a9c}{Lexicon\+Mem\+Recurse}}$<$ Grammar\+\_\+t, key\+\_\+t $>$.call(vms, arg);\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a2f51aebf13fc33d9e69468eb1e6593d1}\label{namespace_builtins_a2f51aebf13fc33d9e69468eb1e6593d1}} 
\index{Builtins@{Builtins}!LexiconSafeRecurse@{LexiconSafeRecurse}}
\index{LexiconSafeRecurse@{LexiconSafeRecurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{LexiconSafeRecurse()}{LexiconSafeRecurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t,key\+\_\+t,input\+\_\+t$>$ Builtins\+::\+Lexicon\+Safe\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Lexicon\+Safe\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ key\+\_\+t $>$();vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a636952e2b893e683faedbb90308828ff}{Lexicon\+Recurse}}$<$ Grammar\+\_\+t, key\+\_\+t $>$.call(vms, arg);\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a41afa777e99c28cbf1ac3501464ba8e9}\label{namespace_builtins_a41afa777e99c28cbf1ac3501464ba8e9}} 
\index{Builtins@{Builtins}!Mem@{Mem}}
\index{Mem@{Mem}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{Mem()}{Mem()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename key\+\_\+t , typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}} Builtins\+::\+Mem (\begin{DoxyParamCaption}\item[{Op\+::\+Mem}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ auto memindex=vms-\/$>$template memstack$<$ key\+\_\+t $>$().top();vms-\/$>$template memstack$<$ key\+\_\+t $>$().pop();if(vms-\/$>$template mem$<$ key\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex)==0) \{ vms-\/$>$template mem$<$ key\+\_\+t $>$()\mbox{[}memindex\mbox{]}=vms-\/$>$template gettop$<$ output\+\_\+t $>$();\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a4755b55bacb9357deefb65240d7bbc8b}\label{namespace_builtins_a4755b55bacb9357deefb65240d7bbc8b}} 
\index{Builtins@{Builtins}!MemRecurse@{MemRecurse}}
\index{MemRecurse@{MemRecurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{MemRecurse()}{MemRecurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t,input\+\_\+t$>$ Builtins\+::\+Mem\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Mem\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);using mykey\+\_\+t=short;if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto x=vms-\/$>$template getpop$<$ input\+\_\+t $>$();auto memindex=std\+::make\+\_\+pair(arg, x);if(vms-\/$>$template mem$<$ mykey\+\_\+t $>$().\mbox{\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{count}}(memindex))\{ vms-\/$>$push(vms-\/$>$template mem$<$ mykey\+\_\+t $>$()\mbox{[}memindex\mbox{]});\} else \{ vms-\/$>$xstack.\+push(x);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$template memstack$<$ mykey\+\_\+t $>$().push(memindex);vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a41afa777e99c28cbf1ac3501464ba8e9}{Builtins\+::\+Mem}}$<$ Grammar\+\_\+t, mykey\+\_\+t, output\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program);\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a49c7eea2f0420591809f9d4470baccfb}\label{namespace_builtins_a49c7eea2f0420591809f9d4470baccfb}} 
\index{Builtins@{Builtins}!NoOp@{NoOp}}
\index{NoOp@{NoOp}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{NoOp()}{NoOp()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}} Builtins\+::\+No\+Op (\begin{DoxyParamCaption}\item[{Op\+::\+No\+Op}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_ab48e0d43bcf71fcc87e923b1d1adea5d}\label{namespace_builtins_ab48e0d43bcf71fcc87e923b1d1adea5d}} 
\index{Builtins@{Builtins}!Not@{Not}}
\index{Not@{Not}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{Not()}{Not()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$bool,bool$>$ Builtins\+::\+Not (\begin{DoxyParamCaption}\item[{Op\+::\+Not}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$push(not vms-\/$>$template getpop$<$ bool $>$());\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a8032519b3fc12f628351116f0eb22a79}\label{namespace_builtins_a8032519b3fc12f628351116f0eb22a79}} 
\index{Builtins@{Builtins}!Or@{Or}}
\index{Or@{Or}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{Or()}{Or()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$bool,bool,bool$>$ Builtins\+::\+Or (\begin{DoxyParamCaption}\item[{Op\+::\+Or}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(true);\} else \{ \} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}\label{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}} 
\index{Builtins@{Builtins}!PopX@{PopX}}
\index{PopX@{PopX}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{PopX()}{PopX()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}} Builtins\+::\+PopX (\begin{DoxyParamCaption}\item[{Op\+::\+PopX}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ vms-\/$>$xstack.\+pop();\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a51eb98277802b2cb3cb6e246b2dfd2cb}\label{namespace_builtins_a51eb98277802b2cb3cb6e246b2dfd2cb}} 
\index{Builtins@{Builtins}!Recurse@{Recurse}}
\index{Recurse@{Recurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{Recurse()}{Recurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t,input\+\_\+t$>$ Builtins\+::\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$program.\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ throw \mbox{\hyperlink{class_v_m_s_runtime_error}{V\+M\+S\+Runtime\+Error}}();\} auto mynewx=vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$xstack.\+push(std\+::move(mynewx));vms-\/$>$program.\+push(\mbox{\hyperlink{namespace_builtins_a0a0d24fe957349840876c9ac3f1d6464}{Builtins\+::\+PopX}}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$program.\+loader-\/$>$push\+\_\+program(vms-\/$>$program);\}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a467be9c940565b464234b395389aacb7}\label{namespace_builtins_a467be9c940565b464234b395389aacb7}} 
\index{Builtins@{Builtins}!SafeFlipP@{SafeFlipP}}
\index{SafeFlipP@{SafeFlipP}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{SafeFlipP()}{SafeFlipP()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$bool,double$>$ Builtins\+::\+Safe\+FlipP (\begin{DoxyParamCaption}\item[{Op\+::\+Safe\+FlipP}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(vms-\/$>$pool !=nullptr);double p=vms-\/$>$template getpop$<$ double $>$();if(std\+::isnan(p)) p=0.\+0;else if(p $>$ 1.\+0) p=1.\+0;else if(p$<$ 0.\+0) p=0.\+0;vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, log(p));bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, log(1.\+0-\/p));if(b) \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE}};\} else \{ vms-\/$>$status=\mbox{\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE}};\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_ae8ce69cb887ec1cbfc50cf9e8c721548}\label{namespace_builtins_ae8ce69cb887ec1cbfc50cf9e8c721548}} 
\index{Builtins@{Builtins}!SafeMemRecurse@{SafeMemRecurse}}
\index{SafeMemRecurse@{SafeMemRecurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{SafeMemRecurse()}{SafeMemRecurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t,input\+\_\+t$>$ Builtins\+::\+Safe\+Mem\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Safe\+Mem\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a4755b55bacb9357deefb65240d7bbc8b}{Mem\+Recurse}}$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_a94cef1f6b9555a28914c897e5bc50654}\label{namespace_builtins_a94cef1f6b9555a28914c897e5bc50654}} 
\index{Builtins@{Builtins}!SafeRecurse@{SafeRecurse}}
\index{SafeRecurse@{SafeRecurse}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{SafeRecurse()}{SafeRecurse()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$output\+\_\+t, input\+\_\+t$>$ Builtins\+::\+Safe\+Recurse (\begin{DoxyParamCaption}\item[{Op\+::\+Safe\+Recurse}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ \mbox{\hyperlink{namespace_builtins_a51eb98277802b2cb3cb6e246b2dfd2cb}{Recurse}}$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \}}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespace_builtins_ad0f8dca506b7edd9031095025dd2e258}\label{namespace_builtins_ad0f8dca506b7edd9031095025dd2e258}} 
\index{Builtins@{Builtins}!X@{X}}
\index{X@{X}!Builtins@{Builtins}}
\doxysubsubsection{\texorpdfstring{X()}{X()}}
{\footnotesize\ttfamily template$<$typename Grammar\+\_\+t $>$ \\
\mbox{\hyperlink{struct_primitive}{Primitive}}$<$typename Grammar\+\_\+t\+::input\+\_\+t$>$ Builtins\+::X (\begin{DoxyParamCaption}\item[{Op\+::X}]{,  }\item[{\mbox{\hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}} \{ assert(!vms-\/$>$xstack.\+empty());vms-\/$>$template push$<$ typename Grammar\+\_\+t\+::input\+\_\+t $>$(vms-\/$>$xstack.\+top());\}}]{ }\end{DoxyParamCaption})}

