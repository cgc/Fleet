\hypertarget{_builtins_8h}{}\section{src/\+Builtins.h File Reference}
\label{_builtins_8h}\index{src/\+Builtins.\+h@{src/\+Builtins.\+h}}
{\ttfamily \#include \char`\"{}Errors.\+h\char`\"{}}\newline
Include dependency graph for Builtins.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{_builtins_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_builtins_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_builtin}{Builtin$<$ T, args $>$}
\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespace_builtins}{Builtins}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}~+\mbox{[}$\,$\mbox{]}(Grammar\+\_\+t\+::\+Virtual\+Machine\+State\+\_\+t$\ast$ vms, int arg) -\/$>$ void
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ typename Grammar\+\_\+t\+::input\+\_\+t $>$ \hyperlink{namespace_builtins_a25cc5743603132ee78d118a4ca039c68}{Builtins\+::X} (Op\+::X, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ assert(!vms-\/$>$xstack.\+empty());vms-\/$>$template push$<$ typename Grammar\+\_\+t\+::input\+\_\+t $>$(vms-\/$>$xstack.\+top());\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ bool, bool, bool $>$ \hyperlink{namespace_builtins_a63aa9c9543831f13170fc30166bfe139}{Builtins\+::\+And} (Op\+::\+And, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(false);\} else \{ \} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ bool, bool, bool $>$ \hyperlink{namespace_builtins_ab0b75bd55eb7a70ca6f4c785255c03e9}{Builtins\+::\+Or} (Op\+::\+Or, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(b) \{ vms-\/$>$program.\+popn(arg);vms-\/$>$template push$<$ bool $>$(true);\} else \{ \} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ bool, bool $>$ \hyperlink{namespace_builtins_a10d2c0df2341b5de83159178d6902d40}{Builtins\+::\+Not} (Op\+::\+Not, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ vms-\/$>$push(not vms-\/$>$template getpop$<$ bool $>$());\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename T $>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ T, bool, T, T $>$ \hyperlink{namespace_builtins_a9ec375cb1db3ecc268fb6e660ff9975e}{Builtins\+::\+If} (Op\+::\+If, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ bool b=vms-\/$>$template getpop$<$ bool $>$();if(!b) vms-\/$>$template program.\+popn(arg);else \{\};\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin} \hyperlink{namespace_builtins_aabb0d4a3c7b76af0d4cfd24c75b49324}{Builtins\+::\+Jmp} (Op\+::\+Jmp, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ vms-\/$>$program.\+popn(arg);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin} \hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX} (Op\+::\+PopX, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ vms-\/$>$xstack.\+pop();\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ bool $>$ \hyperlink{namespace_builtins_afc5e30bbc3268c0f88d8540421d453ff}{Builtins\+::\+Flip} (Op\+::\+Flip, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ assert(vms-\/$>$pool !=nullptr);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, -\/\hyperlink{_numerics_8h_a86b66aa18326dc4ebe8e36d253c14f40}{L\+O\+G2});bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, -\/\hyperlink{_numerics_8h_a86b66aa18326dc4ebe8e36d253c14f40}{L\+O\+G2});if(b) \{ vms-\/$>$status=\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE};\} else \{ vms-\/$>$status=\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ bool, double $>$ \hyperlink{namespace_builtins_a0186ad77a288c4a3bced3c80fc66f9d9}{Builtins\+::\+FlipP} (Op\+::\+FlipP, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ assert(vms-\/$>$pool !=nullptr);double p=vms-\/$>$template getpop$<$ double $>$();if(std\+::isnan(p)) \{ p=0.\+0;\} assert(p$<$=1.\+0 and p $>$=0.\+0);vms-\/$>$pool-\/$>$copy\+\_\+increment\+\_\+push(vms, true, log(p));bool b=vms-\/$>$pool-\/$>$increment\+\_\+push(vms, false, log(1.\+0-\/p));if(b) \{ vms-\/$>$status=\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a62e4b4888c0e06f92db375155a5f5460}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+C\+E\+\_\+\+N\+O\+\_\+\+D\+E\+L\+E\+TE};\} else \{ vms-\/$>$status=\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a1a2e4f5a61984625db01a97518e16974}{vmstatus\+\_\+t\+::\+R\+A\+N\+D\+O\+M\+\_\+\+C\+H\+O\+I\+CE};\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename output\+\_\+t  = Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\hyperlink{struct_builtin}{Builtin} \hyperlink{namespace_builtins_a6ce5deaec3f817041a03bcbae5455d26}{Builtins\+::\+Mem} (Op\+::\+Mem, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ auto memindex=vms-\/$>$memstack.\+top();vms-\/$>$memstack.\+pop();if(vms-\/$>$\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{mem.\+count}(memindex)==0) \{ vms-\/$>$mem\mbox{[}memindex\mbox{]}=vms-\/$>$template gettop$<$ output\+\_\+t $>$();\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t $>$ }\\\hyperlink{struct_builtin}{Builtin} \hyperlink{namespace_builtins_a16d673425b3dd05c202dbbed7923dc45}{Builtins\+::\+No\+Op} (Op\+::\+No\+Op, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ output\+\_\+t, input\+\_\+t $>$ \hyperlink{namespace_builtins_aaf8ac531e0c02e508668811329856ea3}{Builtins\+::\+Recurse} (Op\+::\+Recurse, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ assert(vms-\/$>$program\+\_\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ vms-\/$>$status=\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a8427e4c0e4c7fc8456948b268f81ec6c}{vmstatus\+\_\+t\+::\+R\+E\+C\+U\+R\+S\+I\+O\+N\+\_\+\+D\+E\+P\+TH};return;\} auto mynewx=vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$xstack.\+push(std\+::move(mynewx));vms-\/$>$program.\+push(\hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$program\+\_\+loader-\/$>$push\+\_\+program(vms-\/$>$program, arg);\})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ output\+\_\+t, input\+\_\+t $>$ \hyperlink{namespace_builtins_a2bc2b89a6b231ea7a6b7c0af5fde8d6d}{Builtins\+::\+Safe\+Recurse} (Op\+::\+Safe\+Recurse, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ Recurse$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ output\+\_\+t, input\+\_\+t $>$ \hyperlink{namespace_builtins_a9840451f365b5a99c0dcba008aa28d19}{Builtins\+::\+Mem\+Recurse} (Op\+::\+Mem\+Recurse, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ assert(vms-\/$>$program\+\_\+loader !=nullptr);if(vms-\/$>$recursion\+\_\+depth++$>$ vms-\/$>$M\+A\+X\+\_\+\+R\+E\+C\+U\+R\+SE) \{ vms-\/$>$status=\hyperlink{_v_m_status_8h_a6202215407ab29590bb936ca2996cf64a8427e4c0e4c7fc8456948b268f81ec6c}{vmstatus\+\_\+t\+::\+R\+E\+C\+U\+R\+S\+I\+O\+N\+\_\+\+D\+E\+P\+TH};return;\} auto x=vms-\/$>$template getpop$<$ input\+\_\+t $>$();auto memindex=std\+::make\+\_\+pair(arg, x);if(vms-\/$>$\hyperlink{_strings_8h_ae6eafa3700b097b96c1601a141a45de4}{mem.\+count}(memindex))\{ vms-\/$>$push(vms-\/$>$mem\mbox{[}memindex\mbox{]});\} else \{ vms-\/$>$xstack.\+push(x);vms-\/$>$program.\+push(\hyperlink{namespace_builtins_a0253eaae13c4bd9872249f12baa4eb88}{Builtins\+::\+PopX}$<$ Grammar\+\_\+t $>$.make\+Instruction());vms-\/$>$memstack.\+push(memindex);vms-\/$>$program.\+push(\hyperlink{namespace_builtins_a6ce5deaec3f817041a03bcbae5455d26}{Builtins\+::\+Mem}$<$ Grammar\+\_\+t, output\+\_\+t $>$.make\+Instruction());vms-\/$>$program\+\_\+loader-\/$>$push\+\_\+program(vms-\/$>$program, arg);\} \})
\item 
{\footnotesize template$<$typename Grammar\+\_\+t , typename input\+\_\+t  = typename Grammar\+\_\+t\+::input\+\_\+t, typename output\+\_\+t  = typename Grammar\+\_\+t\+::output\+\_\+t$>$ }\\\hyperlink{struct_builtin}{Builtin}$<$ output\+\_\+t, input\+\_\+t $>$ \hyperlink{namespace_builtins_a7264c94c7c641d7a29d438f20c7a1298}{Builtins\+::\+Safe\+Mem\+Recurse} (Op\+::\+Safe\+Mem\+Recurse, \hyperlink{_builtins_8h_ad05e94221ff2967761018674d5cbb960}{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA} \{ assert(not vms-\/$>$template stack$<$ input\+\_\+t $>$().empty());if(vms-\/$>$template stack$<$ input\+\_\+t $>$().top().size()==0) \{ vms-\/$>$template getpop$<$ input\+\_\+t $>$();vms-\/$>$template push$<$ output\+\_\+t $>$(output\+\_\+t\{\});\} else \{ Mem\+Recurse$<$ Grammar\+\_\+t $>$.call(vms, arg);\} \})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{_builtins_8h_ad05e94221ff2967761018674d5cbb960}\label{_builtins_8h_ad05e94221ff2967761018674d5cbb960}} 
\index{Builtins.\+h@{Builtins.\+h}!B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA@{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}}
\index{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA@{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}!Builtins.\+h@{Builtins.\+h}}
\subsubsection{\texorpdfstring{B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA}{BUILTIN\_LAMBDA}}
{\footnotesize\ttfamily \#define B\+U\+I\+L\+T\+I\+N\+\_\+\+L\+A\+M\+B\+DA~+\mbox{[}$\,$\mbox{]}(Grammar\+\_\+t\+::\+Virtual\+Machine\+State\+\_\+t$\ast$ vms, int arg) -\/$>$ void}

